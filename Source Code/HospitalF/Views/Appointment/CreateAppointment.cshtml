@using HospitalF.Constant
@model HospitalF.Models.AppointmentModels

<script type="text/javascript">
    @*AJAX for cascading Doctor drop down list*@
    $(document).ready(function () {
        $("#SpecialityID").change(function () {
            var selectedItem = $(this).val();
            var ddlDoctor = $("#DoctorID");
            var statesProgress = $("#states-loading-doctor-progress");
            statesProgress.show();
            $.ajax({
                cache: false,
                type: "GET",
                url: "@(Url.RouteUrl(Constants.GetDoctorBySpecialiyMethod))",
                data: { "specialityID": selectedItem },
                success: function (data) {
                    ddlDoctor.html('');
                    $.each(data, function (id, option) {
                        ddlDoctor.append($('<option></option>').val(option.id).html(option.name));
                    });
                    statesProgress.hide();
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    statesProgress.hide();
                }
            });
        });
    });
</script>
<h2>CreateAppointment</h2>
@Html.ValidationSummary()
<article class="col-sm-12 col-md-12 col-lg-7" style="margin-left: 20%;">

    <!-- Widget ID (each widget will need unique ID)-->
    <div class="jarviswidget" id="wid-id-1" data-widget-editbutton="false" data-widget-custombutton="false">
        @*<form action="#" id="checkout-form" class="smart-form" novalidate="novalidate">*@
            @using (Html.BeginForm(Constants.CreateAppointmentMethod, Constants.AppointmentController, 
                FormMethod.Post, new {@class="smart-form"}))
            {
            <div style="float: left; width: 50%;">
                @*					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<!-- this area used as dropdown edit box -->
						
					</div>
					<!-- end widget edit box -->
					
					<!-- widget content -->
					<div class="widget-body no-padding">
						
					*@

                <fieldset>
                    <h3>Thông tin bệnh nhân</h3>

                    <div class="row">
                        <section class="col col-6">
                            <label class="select">
                                <select name="Speciality">
                                    <option value="-1" selected="" disabled="">Giới tính</option>
                                    <option value="0">Nam</option>
                                    <option value="1">Nữ</option>
                                </select>
                                <i></i>
                            </label>
                        </section>
                    </div>
                    <div class="row">

                        <section class="col col-6">
                            <label class="input">
                                <i class="icon-append fa fa-calendar"></i>
                                @*<input type="text" name="birthday" placeholder="Ngày sinh" class="datepicker" data-dateformat='dd/mm/yy'>*@
                            @Html.TextBoxFor(m => m.Birthday, new 
                       {
                           @class="datepicker",
                           @placeholder="Ngày sinh"
                       })
                            </label>
                        </section>
                        <section class="col col-9">
                            <label class="input">
                                <i class="icon-prepend fa fa-user"></i>
                                @*<input type="text" name="FullName" placeholder="Họ tên">*@
                            @Html.TextBoxFor(m => m.FullName, new
                       {
                           @placeholder="Họ tên"
                       })
                            </label>
                        </section>
                        <section class="col col-9">
                            <label class="input">
                                <i class="icon-prepend fa fa-envelope-o"></i>
                                @*<input type="email" name="email" placeholder="E-mail">*@
                                @Html.TextBoxFor(m=>m.Email,new
                           {
                               @placeholder="E-mail"
                           })
                            </label>
                        </section>
                        <section class="col col-9">
                            <label class="input">
                                <i class="icon-prepend fa fa-phone"></i>
                                @*<input type="tel" name="phone" placeholder="Số điện thoại" data-mask="9999-999-9999">*@
                                @Html.TextBoxFor(m=>m.PhoneNo,new
                           {
                               @placeholder="Số điện thoại",
                           })
                            </label>
                        </section>
                    </div>
                </fieldset>
                @*</div>*@
                <!-- end widget content -->

            </div>
            <div style="float: right; width: 50%;">
                <fieldset>
                    <h3>Thông tin đặt hẹn</h3>
                    <div class="row">
                        <section class="col col-9">
                            <label class="select">
                                @*<select name="Speciality">
                                    <option value="0" selected="" disabled="">Chuyên khoa</option>
                                    <option value="1">Tai mũi họng</option>
                                </select>*@
                                @* @Html.DropDownListFor(m => m.CityID, (SelectList)ViewBag.CityList,
                                                Constants.RequireCity, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.CityID)*@
                                @Html.DropDownListFor(m => m.SpecialityID, (SelectList)ViewBag.SpecialityList,
                                                Constants.RequireSpeciality)
                                            @Html.ValidationMessageFor(m=>m.SpecialityID)
                                <i></i>
                            </label>
                        </section>
                    </div>
                    <div class="row">
                        <section class="col col-9">
                            <label class="select">
                                @*<select name="Doctor">
                                    <option value="0" selected="" disabled="">Bác sĩ</option>
                                    <option value="1">Nguyễn Văn A</option>
                                </select>*@
                                @Html.DropDownListFor(m => m.DoctorID, (SelectList)ViewBag.DoctorList)
                                            @*@Html.ValidationMessageFor(m=>m.DoctorID)*@
                                <i></i>
                            </label>
                        </section>

                        <section class="col col-6">
                            <label class="input">
                                <i class="icon-append fa fa-calendar"></i>
                                @*<input type="text" name="birthday" placeholder="Thời gian khám" class="datepicker hasDatepicker" data-dateformat='dd/mm/yy'>*@
                            @Html.TextBoxFor(m => m.AppDate, new 
                                        {
                                            @class="datepicker",
                                            @placeholder="Ngày khám"
                                        })
                            </label>
                        </section>
                        <section class="col col-3">
                            <label class="input">
                                <i class="icon-append fa fa-calendar"></i>
                                @*<input type="text" name="birthday" placeholder="" class="datepicker hasDatepicker" data-dateformat='dd/mm/yy'>*@
                            
                            @Html.TextBoxFor(m => m.StartTime, new
                                        {
                                            @class = "datepicker",
                                            @placeholder = "Thời gian khám"
                                        })</label>
                        </section>
                        <section class="col col-9">
                            <a href="https://www.facebook.com/">Hình ảnh mới</a>
                            <label class="input">
                                <input type="text" name="captcha" />
                            </label>
                        </section>
                    </div>


                </fieldset>
            </div>
            <footer>
                <button type="submit" class="btn btn-primary">
                    Đặt lịch khám
                </button>
            </footer>
            }
    </div>
</article>