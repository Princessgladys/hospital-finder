@using HospitalF.Constant
@model HospitalF.Models.AppointmentModels

@{
    ViewBag.Title = "CreateAppointment";
}
<h2>CreateAppointment</h2>
<article class="col-sm-12 col-md-12 col-lg-7" style="margin-left: 20%;">

    <!-- Widget ID (each widget will need unique ID)-->
    <div class="jarviswidget" id="wid-id-1" data-widget-editbutton="false" data-widget-custombutton="false">
        @*<form action="#" id="checkout-form" class="smart-form" novalidate="novalidate">*@
            @using (Html.BeginForm(Constants.CreateAppointmentMethod, Constants.AppointmentController, 
                FormMethod.Post, new {@class="smart-form"}))
            {
            <div style="float: left; width: 50%;">
                @*					<!-- widget edit box -->
					<div class="jarviswidget-editbox">
						<!-- this area used as dropdown edit box -->
						
					</div>
					<!-- end widget edit box -->
					
					<!-- widget content -->
					<div class="widget-body no-padding">
						
					*@

                <fieldset>
                    <h3>Thông tin bệnh nhân</h3>

                    <div class="row">
                        <section class="col col-6">
                            <label class="select">
                                <select name="Speciality">
                                    <option value="-1" selected="" disabled="">Giới tính</option>
                                    <option value="0">Nam</option>
                                    <option value="1">Nữ</option>
                                </select>
                                <i></i>
                            </label>
                        </section>
                    </div>
                    <div class="row">

                        <section class="col col-6">
                            <label class="input">
                                <i class="icon-append fa fa-calendar"></i>
                                @*<input type="text" name="birthday" placeholder="Ngày sinh" class="datepicker" data-dateformat='dd/mm/yy'>*@
                            @Html.TextBoxFor(m => m.Birthday, new 
                       {
                           @class="datepicker",
                           @placeholder="Ngày sinh"
                       })
                            </label>
                        </section>
                        <section class="col col-9">
                            <label class="input">
                                <i class="icon-prepend fa fa-user"></i>
                                @*<input type="text" name="FullName" placeholder="Họ tên">*@
                            @Html.TextBoxFor(m => m.FullName, new
                       {
                           @placeholder="Họ tên"
                       })
                            </label>
                        </section>
                        <section class="col col-9">
                            <label class="input">
                                <i class="icon-prepend fa fa-envelope-o"></i>
                                @*<input type="email" name="email" placeholder="E-mail">*@
                                @Html.TextBoxFor(m=>m.Email,new
                           {
                               @placeholder="E-mail"
                           })
                            </label>
                        </section>
                        <section class="col col-9">
                            <label class="input">
                                <i class="icon-prepend fa fa-phone"></i>
                                @*<input type="tel" name="phone" placeholder="Số điện thoại" data-mask="9999-999-9999">*@
                                @Html.TextBoxFor(m=>m.PhoneNo,new
                           {
                               @placeholder="Số điện thoại",
                           })
                            </label>
                        </section>
                    </div>
                </fieldset>
                @*</div>*@
                <!-- end widget content -->

            </div>
            <div style="float: right; width: 50%;">
                <fieldset>
                    <h3>Thông tin đặt hẹn</h3>
                    <div class="row">
                        <section class="col col-9">
                            <label class="select">
                                @*<select name="Speciality">
                                    <option value="0" selected="" disabled="">Chuyên khoa</option>
                                    <option value="1">Tai mũi họng</option>
                                </select>*@
                                @* @Html.DropDownListFor(m => m.CityID, (SelectList)ViewBag.CityList,
                                                Constants.RequireCity, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.CityID)*@
                                @Html.DropDownListFor(m => m.SpecialityID, (SelectList)ViewBag.SpecialityList,
                                                Constants.RequireSpeciality, new {@class=""})
                                            @Html.ValidationMessageFor(m=>m.SpecialityID)
                                <i></i>
                            </label>
                        </section>
                    </div>
                    <div class="row">
                        <section class="col col-9">
                            <label class="select">
                                @*<select name="Doctor">
                                    <option value="0" selected="" disabled="">Bác sĩ</option>
                                    <option value="1">Nguyễn Văn A</option>
                                </select>*@
                                @Html.DropDownListFor(m => m.DoctorID, (SelectList)ViewBag.DoctorList,
                                                new { @class="" })
                                            @Html.ValidationMessageFor(m=>m.DoctorID)
                                <i></i>
                            </label>
                        </section>

                        <section class="col col-6">
                            <label class="input">
                                <i class="icon-append fa fa-calendar"></i>
                                <input type="text" name="birthday" placeholder="Thời gian khám" class="datepicker hasDatepicker" data-dateformat='dd/mm/yy'>
                            </label>
                        </section>
                        <section class="col col-3">
                            <label class="input">
                                <i class="icon-append fa fa-calendar"></i>
                                <input type="text" name="birthday" placeholder="" class="datepicker hasDatepicker" data-dateformat='dd/mm/yy'>
                            </label>
                        </section>
                        <section class="col col-9">
                            <a href="https://www.facebook.com/">Hình ảnh mới</a>
                            <label class="input">
                                <input type="text" name="captcha" />
                            </label>
                        </section>
                    </div>


                </fieldset>
            </div>
            <footer>
                <button type="submit" class="btn btn-primary">
                    Đặt lịch khám
                </button>
            </footer>
            }
    </div>
</article>
<script type="text/javascript">

    // DO NOT REMOVE : GLOBAL FUNCTIONS!
    pageSetUp();


    // PAGE RELATED SCRIPTS

    // Load form valisation dependency 
    loadScript("js/plugin/jquery-form/jquery-form.min.html", runFormValidation);


    // Registration validation script
    function runFormValidation() {


        var $checkoutForm = $('#checkout-form').validate({
            // Rules for form validation
            rules: {
                FullName: {
                    required: true
                },
                lname: {
                    required: true
                },
                email: {
                    required: true,
                    email: true
                },
                phone: {
                    required: true
                },
                Speciality: {
                    required: true
                },
                city: {
                    required: true
                },
                code: {
                    required: true,
                    digits: true
                },
                address: {
                    required: true
                },
                name: {
                    required: true
                },
                card: {
                    required: true,
                    creditcard: true
                },
                cvv: {
                    required: true,
                    digits: true
                },
                month: {
                    required: true
                },
                year: {
                    required: true,
                    digits: true
                }
            },

            // Messages for form validation
            messages: {
                FullName: {
                    required: 'Please enter your first name'
                },
                lname: {
                    required: 'Please enter your last name'
                },
                email: {
                    required: 'Please enter your email address',
                    email: 'Please enter a VALID email address'
                },
                phone: {
                    required: 'Please enter your phone number'
                },
                Speciality: {
                    required: 'Please select your country'
                },
                city: {
                    required: 'Please enter your city'
                },
                code: {
                    required: 'Please enter code',
                    digits: 'Digits only please'
                },
                address: {
                    required: 'Please enter your full address'
                },
                name: {
                    required: 'Please enter name on your card'
                },
                card: {
                    required: 'Please enter your card number'
                },
                cvv: {
                    required: 'Enter CVV2',
                    digits: 'Digits only'
                },
                month: {
                    required: 'Select month'
                },
                year: {
                    required: 'Enter year',
                    digits: 'Digits only please'
                }
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

        var $registerForm = $("#smart-form-register").validate({

            // Rules for form validation
            rules: {
                username: {
                    required: true
                },
                email: {
                    required: true,
                    email: true
                },
                password: {
                    required: true,
                    minlength: 3,
                    maxlength: 20
                },
                passwordConfirm: {
                    required: true,
                    minlength: 3,
                    maxlength: 20,
                    equalTo: '#password'
                },
                firstname: {
                    required: true
                },
                lastname: {
                    required: true
                },
                gender: {
                    required: true
                },
                terms: {
                    required: true
                }
            },

            // Messages for form validation
            messages: {
                login: {
                    required: 'Please enter your login'
                },
                email: {
                    required: 'Please enter your email address',
                    email: 'Please enter a VALID email address'
                },
                password: {
                    required: 'Please enter your password'
                },
                passwordConfirm: {
                    required: 'Please enter your password one more time',
                    equalTo: 'Please enter the same password as above'
                },
                firstname: {
                    required: 'Please select your first name'
                },
                lastname: {
                    required: 'Please select your last name'
                },
                gender: {
                    required: 'Please select your gender'
                },
                terms: {
                    required: 'You must agree with Terms and Conditions'
                }
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

        var $reviewForm = $("#review-form").validate({
            // Rules for form validation
            rules: {
                name: {
                    required: true
                },
                email: {
                    required: true,
                    email: true
                },
                review: {
                    required: true,
                    minlength: 20
                },
                quality: {
                    required: true
                },
                reliability: {
                    required: true
                },
                overall: {
                    required: true
                }
            },

            // Messages for form validation
            messages: {
                name: {
                    required: 'Please enter your name'
                },
                email: {
                    required: 'Please enter your email address',
                    email: '<i class="fa fa-warning"></i><strong>Please enter a VALID email addres</strong>'
                },
                review: {
                    required: 'Please enter your review'
                },
                quality: {
                    required: 'Please rate quality of the product'
                },
                reliability: {
                    required: 'Please rate reliability of the product'
                },
                overall: {
                    required: 'Please rate the product'
                }
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

        var $commentForm = $("#comment-form").validate({
            // Rules for form validation
            rules: {
                name: {
                    required: true
                },
                email: {
                    required: true,
                    email: true
                },
                url: {
                    url: true
                },
                comment: {
                    required: true
                }
            },

            // Messages for form validation
            messages: {
                name: {
                    required: 'Enter your name',
                },
                email: {
                    required: 'Enter your email address',
                    email: 'Enter a VALID email'
                },
                url: {
                    email: 'Enter a VALID url'
                },
                comment: {
                    required: 'Please enter your comment'
                }
            },

            // Ajax form submition
            submitHandler: function (form) {
                $(form).ajaxSubmit({
                    success: function () {
                        $("#comment-form").addClass('submited');
                    }
                });
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

        var $contactForm = $("#contact-form").validate({
            // Rules for form validation
            rules: {
                name: {
                    required: true
                },
                email: {
                    required: true,
                    email: true
                },
                message: {
                    required: true,
                    minlength: 10
                }
            },

            // Messages for form validation
            messages: {
                name: {
                    required: 'Please enter your name',
                },
                email: {
                    required: 'Please enter your email address',
                    email: 'Please enter a VALID email address'
                },
                message: {
                    required: 'Please enter your message'
                }
            },

            // Ajax form submition
            submitHandler: function (form) {
                $(form).ajaxSubmit({
                    success: function () {
                        $("#contact-form").addClass('submited');
                    }
                });
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

        var $loginForm = $("#login-form").validate({
            // Rules for form validation
            rules: {
                email: {
                    required: true,
                    email: true
                },
                password: {
                    required: true,
                    minlength: 3,
                    maxlength: 20
                }
            },

            // Messages for form validation
            messages: {
                email: {
                    required: 'Please enter your email address',
                    email: 'Please enter a VALID email address'
                },
                password: {
                    required: 'Please enter your password'
                }
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

        var $orderForm = $("#order-form").validate({
            // Rules for form validation
            rules: {
                name: {
                    required: true
                },
                email: {
                    required: true,
                    email: true
                },
                phone: {
                    required: true
                },
                interested: {
                    required: true
                },
                budget: {
                    required: true
                }
            },

            // Messages for form validation
            messages: {
                name: {
                    required: 'Please enter your name'
                },
                email: {
                    required: 'Please enter your email address',
                    email: 'Please enter a VALID email address'
                },
                phone: {
                    required: 'Please enter your phone number'
                },
                interested: {
                    required: 'Please select interested service'
                },
                budget: {
                    required: 'Please select your budget'
                }
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

        // START AND FINISH DATE
        $('#startdate').datepicker({
            dateFormat: 'dd.mm.yy',
            prevText: '<i class="fa fa-chevron-left"></i>',
            nextText: '<i class="fa fa-chevron-right"></i>',
            onSelect: function (selectedDate) {
                $('#finishdate').datepicker('option', 'minDate', selectedDate);
            }
        });

        $('#finishdate').datepicker({
            dateFormat: 'dd.mm.yy',
            prevText: '<i class="fa fa-chevron-left"></i>',
            nextText: '<i class="fa fa-chevron-right"></i>',
            onSelect: function (selectedDate) {
                $('#startdate').datepicker('option', 'maxDate', selectedDate);
            }
        });


    };
</script>